\section{Intro}
\label{sec:intro}
\textit{"You are going to develop a travel-planning system in which you will need to implement a method for computing the cheapest route between destinations. \\Data about the destinations and possible routes between them are placed in a file (to be found on black board next to the assignment) where each line contains a destination followed by the cities to which you can travel and the associated cost. \\
Notice that even though there is a route from A to B, there might not be one from B to A."}


\section{Solution}
\subsection{Question \#1}
A routine for loading in the file and appropriate data structures for representing the data is shown in appendices \ref{app:FileHandle} and \ref{app:Vertex}. We are using a Hash-map where from cities are associated with accesable cities and thier egde cost.\\
Each vertex is represented by a class called Vertex. This includes a string with the name of the vertex, a priority queue  including all of it's edges.  The reason why it has been choosen to use a priorityqueue, instead of an ordinary vector  is to avoid using a sorting algorithm to sort the vector. 




\subsection{Question \#2}
As mentioned before the from cities is associate to cities with a giving cost.  The apporach for printing the "to cities" is showed by the psodocode and the listing below. 
\bigskip
\begin{lstlisting}
printFrom(string from){
	if(vertices.find(from) == vertices.end()){
		cout <<  "City \"" + from +  "\" not found" << :endl;
		return ;
	}
	foreach(item in queue(from)){
		cout << item->element << endl;
	}	
} 
\end{lstlisting}
\bigskip

Accesable cities from "Odense" is copyed from the console output and showed in table \ref{tb:fromodense}. 
\begin{figure}[th!]
\centering
\begin{tabular}{l|l}
To &Cost\\\hline
Stubbekøbing & 20\\
Værløse & 22\\
Hjørring & 33\\
København & 29\\
Søllested & 54\\
Gedved & 62\\
Broby & 67\\
Odder & 48\\
Hørning & 34\\
Spenstrup & 144\\
Dronningmølle & 73\\
Karup & 204\\
Kalundborg & 173\\
Kerteminde & 193\\
Jerup & 87\\
Hovborg & 221\\
Vedbæk & 163\\
Rønde & 187\\
Mørkøv & 47\\
Langebæk & 234\\
Langeskov & 191\\
Ålsgårde & 177\\
Nysted & 102\\
\end{tabular}
\captionsetup{type=table}
\caption[tekst i indholdsfortegnelsen]{Associated arrival cities and cost from Odense.}
\label{tb:fromodense}
\end{figure}

\subsection{Question \#3}
We have chosen to use the Dijkstras algorithm for computing the distances to each vertex from a given vertex. \\

\begin{lstlisting}
DijkResult Run(from, to){
	if (from from in list) {
		cout<<"Not found: " << to << endl;
		exit(0);
	}

	string depTown = from;
	string arTown = to;

	mGraph->verticies[from]->dist=0;

	dijkstrasQueue.push(mGraph->vertices[from]);

	while (!dijkstrasQueue.empty()) {

		from = dijkstrasQueue.top()->element;
		dijkstrasQueue.pop();

		while (!mGraph->vertices[from]->edge.empty()) {
			std::string to = mGraph->vertices[from]->edge.top().first->element;
			int cost  = mGraph->vertices[from]->edge.top().second;

			int edgeplusnode = cost + mGraph->vertices[from]->dist;

			if ( edgeplusnode <  mGraph->vertices[to]->dist) {
				mGraph->vertices[to]->dist=edgeplusnode;
				mGraph->vertices[to]->from=mGraph->vertices[from];
			}
			dijkstrasQueue.push(mGraph->vertices[from]->edge.top().first );
			mGraph->vertices[from]->edge.pop();
		}
	}
	auto route = path(mGraph->vertices[depTown], mGraph->vertices[arTown]);
	return DijkResult(route.second,mGraph->vertices[arTown]->dist, route.first);
}
\end{lstlisting}

The algorthm works by starting at the "from vertex", visit each adjacent vertex(and add them to the dijkstra priority\_queue), add distance and "move" to the node with the shortest distance. 
It will then again visit each adjacent vertex and update the distance if it's smaller than the distance which is already there.
Default all distances is initialised to the maximum value an integer can take to represent infiniti distance.



\section{Examples and Benchmarks}
\subsection{Ten different from and to cities}
Table \ref{tb:fromtoten} shows planning duration from different from and to-cities.

\begin{figure}[th!]
\centering
\begin{tabular}{l|l|l}
From-city & To-city & Duration \\\hline
Odense & Aalborg & 60,752 [ms] \\
Næstved & Odense & 62,742 [ms] \\
Balle & Janderup & 61,288 [ms] \\
Beder & Glumsø & 63,465 [ms] \\
Blokhus & Glostrup & 62,664 [ms] \\
Borre & Vadum & 63,448 [ms] \\
Bredebro & Gistrup & 63,218 [ms] \\
Bælum & Hornsyld & 62,492 [ms] \\
Fakse & Bredebro & 61,774 [ms] \\
Farum & Hadsten & 61,869 [ms] \\\hline
Average runtime && 62,37 [ms]
\end{tabular}
\captionsetup{type=table}
\caption[tekst i indholdsfortegnelsen]{Duration for ten different from and to-cities.}
\label{tb:fromtoten}
\end{figure}



\subsection{Test from from-city to to-cities}
Table \ref{tb:fromonetocities} shows planning duration from one from-city to three differnent to-cities. And as you can see in the table, after the first planning the next planning durations are fairly low.
\begin{figure}[th!]
\centering
\begin{tabular}{l|l|l}
From-city & To-city & Duration \\\hline
Odense & Næstved & 62,802 [ms] \\
Odense & København & 0,005 [ms] \\
Odense & Vadum & 0,005 [ms]  
\end{tabular}
\captionsetup{type=table}
\caption[tekst i indholdsfortegnelsen]{Duration for planning from Odense to three cities.}
\label{tb:fromonetocities}
\end{figure}


\subsection{Planning, Shifts and Ticket price}
Following three examples show planning paths and cheapest price from different cities.

\subsubsection{Odense to Næstved}
\textbf{Departure:} Odense \\
\textbf{Arrival:}   Næstved \\
\textbf{Shifts:}    6: Odense $\rightarrow$ Værløse $\rightarrow$ Rødvig Stevns $\rightarrow$ Humble $\rightarrow$ Skørping $\rightarrow$ Kerteminde $\rightarrow$ Næstved\\
\textbf{Ticket:}    64,- DKK \\
\textbf{Duration:}  62,306 [ms] 
\subsubsection{Odense to Sønderborg}
\textbf{Departure:} Odense \\
\textbf{Arrival: }  Sønderborg \\ 
\textbf{Shifts}:    5: Odense $\rightarrow$ Værløse $\rightarrow$ Hornsyld $\rightarrow$ Ebberup $\rightarrow$ Vig $\rightarrow$ Sønderborg \\
\textbf{Ticket}:    88,- DKK \\
\textbf{Duration:}  62,148 [ms]
\subsubsection{Vadum to Vejle}
\textbf{Departure:} Vadum\\
\textbf{Arrival}:   Vejle\\
\textbf{Shifts:}    7: Vadum $\rightarrow$ Højbjerg $\rightarrow$ Glesborg $\rightarrow$ Gjern $\rightarrow$ Assels Øster $\rightarrow$ Ærøskøbing $\rightarrow$ Børkop $\rightarrow$ Vejle \\
\textbf{Ticket:}    62,- DKK \\
\textbf{Duration:}  60,99 [ms]



\section{Conclusion}


